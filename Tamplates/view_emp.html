{% extends 'base.html' %}

{% block title %}View Employee{% endblock title %}

{% block body %}
<section>
  {% if messages %}
  {% for message in messages %}
  <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
    <strong>{{ message }}</strong>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}
  {% endif %}
  <div class="container my-4">
    <h2 class="text-center alert alert-light">View Employees</h2>
    
    {% if all_emps %}

    <table class="table text-center">
      <thead>
        <tr>
          <th scope="col">S.no</th>
          <th scope="col">Full Name</th>
          <th scope="col">department</th>
          <th scope="col">position</th>
          <th scope="col">Profile Pic</th>
          <th scope="col">Email ID</th>
          <th scope="col">phone no</th>
          <th scope="col">address</th>
          <th scope="col">Yer of experience</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for emp in all_emps %}
        <tr>
          <th scope="row">{{emp.id}}</th>
          <td>{{emp.full_name}}</td>
          <td>{{emp.department}}</td>
          <td>{{emp.position}}</td>
          <td>{{emp.profile_pic}}</td>
          <td>{{emp.email_id}}</td>
          <td>{{emp.phone_no}}</td>
          <td>{{emp.address}}</td>
          <td>{{emp.year_of_experience}}</td>
          <td>
            <a type="button" href="{%  url 'update-employee' emp.id %}" class="btn btn-success py-2 my-2">Update</a>
            <a type="button" href="{%  url 'delete-employee' emp.id %}" class="btn btn-danger py-2 px-3">Delete</a>
          </td>
        </tr>
        {% endfor %}

      </tbody>
    </table>

    {% else %}
    <h6 class="text-danger my-4 text-center">Data NOt Found</h6>

    {% endif %}

  </div>
</section>
{% endblock body %}